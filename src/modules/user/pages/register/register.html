<section class="page register-page">
    <header>
        <h1>Register Page</h1>
        <p>
            회원 가입을 하기위해서는 먼저 메일주소와 비밀번호를 입력하십시오.<br>
            참고로 회원 가입을 하지 않고 페이스북, 네이버, 카카오톡 등으로 로그인 할 수 있습니다.
        </p>
        <nav>
            <button>소셜 로그인하기</button>
        </nav>
    </header>
        <button type="button" routerLink="/">Go to home</button>

        <hr>
        <div id="registerForm1">

            <div id="form1" *ngIf="activeForm == 'form1'">

                <div class="input-group">
                    <label for="user1" class="input-group-addon">Email Address</label>
                    <input type="text" class="form-control" id="user1" name="user_email" placeholder="Email Address"
                           [(ngModel)]="user_email">
                </div>
                <div class="input-group">
                    <label for="user_pass" class="input-group-addon">Password</label>
                    <input type="password" class="form-control" id="user_pass" name="user_pass" placeholder="Password"
                           [(ngModel)]="user_pass">
                </div>
                <button type="button" id="registerButton" (click)="onSubmitRegister()">Register</button>

            </div>

            <div id="form2" *ngIf="activeForm == 'form2'">
                <h5>Upload Profile Picture</h5>
                <div class="input-group">
                    <label for="email2" class="input-group-addon">Email</label>
                    <span class="form-control" id="email2">{{user_email}}</span>
                </div>


                <div class="text-center mb-3">
                    <div class="profile-user d-inline-block">
                        <span class="profile-user-photo">
                            <img *ngIf="files"
                                 src="{{files[0]?.url ? files[0].url : app.anonymousPhotoURL}}"
                                 (click)="fileUploadWidget.onClickCamera()"
                            >
                        </span>
                        <input *ngIf=" ! app.isCordova " type="file" (change)="fileUploadWidget.onChangeFile($event)">
                        <div>
                            <button (click)="fileUploadWidget.onClickCamera()">Change Profile</button>
                        </div>
                    </div>
                </div>

                <file-upload-widget
                    #fileUploadWidget
                    [title]="false"
                    [fileSelectionButton]="false"
                    [files]="files"
                    [showUploadedFiles]="false"
                    (success)="onSuccessUpdateProfilePicture()"
                ></file-upload-widget>
                <button type="button" id="skipProfilePicture" (click)="activeForm = 'form3'">{{ files.length ? 'Next' : 'Skip'}}</button>

            </div>

            <div id="form3" *ngIf="activeForm == 'form3'">
                <img *ngIf="files.length"
                     src="{{files[0].url}}"
                     style="max-width: 100%;"
                >
                <div class="input-group">
                    <label for="email3" class="input-group-addon">Email</label>
                    <span class="form-control" id="email3">{{user_email}}</span>
                </div>
                <div class="input-group">
                    <label for="name" class="input-group-addon">Name</label>
                    <input type="text" class="form-control" id="name" name="name" placeholder="Name" [(ngModel)]="name">
                </div>


                <label class="input-group-addon">Gender</label>
                <div class="form-control mb-3">
                    <div class="form-check">
                        <label for="male"  class="form-check-label">
                            <input type="radio" name="gender" id="male" [(ngModel)]="gender" value="m">
                            <span>Male</span>
                        </label>
                        <label for="female" class="form-check-label">
                            <input type="radio" name="gender" id="female" [(ngModel)]="gender" value="f">
                            <span>Female</span>
                        </label>
                    </div>
                </div>
                <div class="input-group">
                    <span class="input-group-addon input-group-addon-primary" id="date_begin">Birthday</span>
                    <input class="form-control" placeholder="yyyy-mm-dd" name="dp" [(ngModel)]="birthday" ngbDatepicker
                           #b="ngbDatepicker"
                           [placement]="'top'">
                    <div class="input-group-addon" (click)="b.toggle()">
                        <i class="fa fa-calendar" style="cursor: pointer;"></i>
                    </div>
                </div>
                <div class="input-group">
                    <label for="mobile" class="input-group-addon">Mobile</label>
                    <input type="text" class="form-control" id="mobile" name="mobile" placeholder="Mobile" [(ngModel)]="mobile">
                </div>

                <button type="button" id="UpdateButton" (click)="onSubmitUpdateUserInfo()">Save</button>
            </div>

            <div *ngIf="errorMessage">
                <div id="error_message">{{this.errorMessage}}</div>
            </div>

            <div *ngIf="loading">
                <i class="fa fa-spinner fa-pulse fa-3x fa-fw"></i>
                <span>Loading...</span>
            </div>

        </div>
</section>